plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.3.20'
    id "org.jetbrains.kotlin.plugin.spring" version '1.3.20'
    id "org.jetbrains.kotlin.plugin.jpa" version '1.3.20'
}

allprojects {
    apply plugin: 'java'
    apply plugin: 'kotlin'
    apply plugin: "kotlin-spring"
    apply plugin: "kotlin-jpa"

    apply plugin: 'idea'
    apply plugin: 'eclipse'
    apply plugin: 'maven'

    [compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

    sourceCompatibility = '1.8'
    targetCompatibility = '1.8'

    repositories {
        println "repo locating"
        mavenLocal()
        mavenCentral()
        println "repo located"
    }

    configurations {
        provided
    }

    sourceSets {
        main.compileClasspath += configurations.provided
        test.compileClasspath += configurations.provided
        test.runtimeClasspath += configurations.provided
    }

    jar {
        baseName = 'RPNcalculator'
    }

    dependencies {
        compile 'org.jetbrains.kotlin:kotlin-stdlib:1.3.20'
        testCompile 'org.testng:testng:6.8.21'
    }
}
